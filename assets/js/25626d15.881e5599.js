"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[268],{8544:(e,s,a)=>{a.r(s),a.d(s,{default:()=>de});var t=a(6540),n=a(1656),i=a(8478),o=a(6025),l=a(7331);const c={"introduction-to-physical-ai":"/docs/part-1-foundations/introduction-to-physical-ai","ros2-fundamentals":"/docs/part-2-ros2/ros2-fundamentals",simulation:"/docs/part-3-simulation/gazebo-unity-simulation","nvidia-isaac":"/docs/part-4-isaac/nvidia-isaac-platform","humanoid-development":"/docs/part-5-humanoid/humanoid-robot-development","conversational-robotics":"/docs/part-6-conversational/conversational-robotics"},r={"introduction-to-physical-ai":"Part 1: Physical AI Foundations","ros2-fundamentals":"Part 2: ROS 2 Fundamentals",simulation:"Part 3: Simulation","nvidia-isaac":"Part 4: NVIDIA Isaac","humanoid-development":"Part 5: Humanoid Development","conversational-robotics":"Part 6: Conversational Robotics"},d="introduction-to-physical-ai";Object.keys(c);var u=a(54),h=a(3967);const m="backdrop_K2kr",g="modal_JkrS",p="closeButton_Xe1U",x="title_sopS",j="subtitle_Y6xP",b="error_NXAK",v="form_Y4jf",f="inputGroup_pove",N="label_fjoJ",w="input_k2Q1",_="submitButton_s12e",y="divider_OvgT",C="toggleText_nom4",S="toggleButton_P9Ag",k="googleButton_AYv9",B="googleIcon_bLJS";var D=a(4848);const I=({isOpen:e,onClose:s,onSuccess:a})=>{const[n,i]=(0,t.useState)("signin"),[o,l]=(0,t.useState)(""),[c,r]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[I,T]=(0,t.useState)(null),[A,$]=(0,t.useState)(!1),[F,M]=(0,t.useState)(!1);if(!e)return null;return(0,D.jsx)("div",{className:m,onClick:e=>{e.target===e.currentTarget&&s()},children:(0,D.jsxs)("div",{className:g,children:[(0,D.jsx)("button",{className:p,onClick:s,"aria-label":"Close",children:"\xd7"}),(0,D.jsx)("h2",{className:x,children:"signin"===n?"Welcome Back":"Create Account"}),(0,D.jsx)("p",{className:j,children:"signin"===n?"Sign in to continue chatting with Fubuni":"Sign up to start chatting with Fubuni"}),I&&(0,D.jsx)("div",{className:b,children:I}),(0,D.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),T(null),$(!0);try{if("signup"===n){const e=await h.Hh.email({email:o,password:c,name:d||o.split("@")[0]});if(e.error)return void T(e.error.message||"Signup failed")}else{const e=await h.Jv.email({email:o,password:c});if(e.error)return void T(e.error.message||"Login failed")}a?.(),s()}catch(t){T(t instanceof Error?t.message:"An error occurred")}finally{$(!1)}},className:v,children:["signup"===n&&(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("label",{htmlFor:"name",className:N,children:"Name (optional)"}),(0,D.jsx)("input",{id:"name",type:"text",value:d,onChange:e=>u(e.target.value),className:w,placeholder:"Your name",disabled:A})]}),(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("label",{htmlFor:"email",className:N,children:"Email"}),(0,D.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>l(e.target.value),className:w,placeholder:"you@example.com",required:!0,disabled:A})]}),(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("label",{htmlFor:"password",className:N,children:"Password"}),(0,D.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>r(e.target.value),className:w,placeholder:"Enter your password",required:!0,minLength:8,disabled:A})]}),(0,D.jsx)("button",{type:"submit",className:_,disabled:A,children:A?"Loading...":"signin"===n?"Sign In":"Sign Up"})]}),(0,D.jsx)("div",{className:y,children:(0,D.jsx)("span",{children:"or"})}),(0,D.jsxs)("button",{type:"button",onClick:()=>{T(null),M(!0);try{(0,h.G6)()}catch(e){T(e instanceof Error?e.message:"Google sign-in failed"),M(!1)}},className:k,disabled:A||F,children:[(0,D.jsxs)("svg",{className:B,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,D.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,D.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,D.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,D.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),F?"Redirecting to Google...":"Continue with Google"]}),(0,D.jsxs)("p",{className:C,children:["signin"===n?"Don't have an account? ":"Already have an account? ",(0,D.jsx)("button",{type:"button",onClick:()=>{i("signin"===n?"signup":"signin"),T(null)},className:S,disabled:A||F,children:"signin"===n?"Sign Up":"Sign In"})]})]})})};class T extends Error{constructor(e,s,a){super(e),this.status=s,this.code=a,this.name="ChatSessionError"}}async function A(e,s={}){const a=await(0,h.mj)();if(!a)throw new T("Not authenticated",401,"UNAUTHORIZED");const t="undefined"==typeof window?"https://maryanrar-fubuni-chat-api.hf.space":"localhost"===window.location.hostname?"http://localhost:8000":"https://maryanrar-fubuni-chat-api.hf.space",n=await fetch(`${t}${e}`,{...s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new T(e.detail||`Request failed with status ${n.status}`,n.status,e.code)}return n}function $(e){const s=new Date(e),a=(new Date).getTime()-s.getTime(),t=Math.floor(a/1e3),n=Math.floor(t/60),i=Math.floor(n/60),o=Math.floor(i/24);return t<60?"just now":n<60?`${n} minute${1===n?"":"s"} ago`:i<24?`${i} hour${1===i?"":"s"} ago`:o<7?`${o} day${1===o?"":"s"} ago`:s.toLocaleDateString()}const F="sidebar_JQSp",M="header_rWWJ",E="title_BRpc",H="newButton_Phbl",L="sessionList_DneA",O="sessionItem_aRhm",P="active_DMk4",R="deleting_NrQJ",z="sessionButton_XFkg",U="sessionTitle_USBv",J="sessionMeta_TojB",V="sessionTime_kunG",G="sessionCount_UbKk",W="deleteButton_X1QZ",q="deleteConfirm_lDRr",X="confirmYes_Edmr",Q="confirmNo_D86E",K="loading_IwUb",Y="emptyState_BZXx",Z="emptyHint_rOrJ",ee="error_EeCq",se="dismissError_k_Rk",ae="spinner_j3G7",te=({activeSessionId:e,onSessionSelect:s,onNewSession:a,isAuthenticated:n})=>{const[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[r,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[p,x]=(0,t.useState)(null),j=(0,t.useCallback)(async()=>{if(!n)return o([]),void c(!1);try{c(!0),d(null);const e=await async function(){return(await A("/api/chat/sessions")).json()}();o(e.sessions)}catch(e){d(e instanceof T?e.message:"Failed to load sessions")}finally{c(!1)}},[n]);(0,t.useEffect)(()=>{j()},[j]);const b=(0,t.useCallback)(async()=>{if(!u)try{h(!0),d(null);const e=await async function(){return(await A("/api/chat/sessions",{method:"POST"})).json()}();o(s=>[e,...s]),a(e.id)}catch(e){d(e instanceof T?e.message:"Failed to create session")}finally{h(!1)}},[u,a]),v=(0,t.useCallback)(async t=>{if(!m)try{if(g(t),x(null),await async function(e){return(await A(`/api/chat/sessions/${e}`,{method:"DELETE"})).json()}(t),o(e=>e.filter(e=>e.id!==t)),e===t){const e=i.filter(e=>e.id!==t);e.length>0?s(e[0].id):a("")}}catch(n){d(n instanceof T?n.message:"Failed to delete session")}finally{g(null)}},[m,e,i,s,a]),f=(0,t.useCallback)(()=>{j()},[j]);return(0,t.useEffect)(()=>(window.__refreshSessions=f,()=>{delete window.__refreshSessions}),[f]),n?(0,D.jsxs)("aside",{className:F,children:[(0,D.jsxs)("div",{className:M,children:[(0,D.jsx)("h2",{className:E,children:"Sessions"}),(0,D.jsx)("button",{className:H,onClick:b,disabled:u,"aria-label":"New chat",children:u?(0,D.jsx)("span",{className:ae}):(0,D.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,D.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,D.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),r&&(0,D.jsxs)("div",{className:ee,children:[r,(0,D.jsx)("button",{onClick:()=>d(null),className:se,children:"\xd7"})]}),(0,D.jsx)("div",{className:L,children:l?(0,D.jsxs)("div",{className:K,children:[(0,D.jsx)("span",{className:ae}),(0,D.jsx)("span",{children:"Loading sessions..."})]}):0===i.length?(0,D.jsxs)("div",{className:Y,children:[(0,D.jsx)("p",{children:"No chat sessions yet"}),(0,D.jsx)("p",{className:Z,children:"Start a new conversation!"})]}):i.map(a=>(0,D.jsxs)("div",{className:`${O} ${e===a.id?P:""} ${m===a.id?R:""}`,children:[(0,D.jsxs)("button",{className:z,onClick:()=>s(a.id),disabled:m===a.id,children:[(0,D.jsx)("span",{className:U,children:a.title||"New conversation"}),(0,D.jsxs)("span",{className:J,children:[(0,D.jsx)("span",{className:V,children:$(a.last_interaction)}),a.message_count>0&&(0,D.jsxs)("span",{className:G,children:[a.message_count," msg",1!==a.message_count?"s":""]})]})]}),p===a.id?(0,D.jsxs)("div",{className:q,children:[(0,D.jsx)("button",{className:X,onClick:()=>v(a.id),disabled:m===a.id,children:"Delete"}),(0,D.jsx)("button",{className:Q,onClick:()=>x(null),children:"Cancel"})]}):(0,D.jsx)("button",{className:W,onClick:e=>{e.stopPropagation(),x(a.id)},disabled:m===a.id,"aria-label":"Delete session",children:(0,D.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,D.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,D.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]},a.id))})]}):(0,D.jsxs)("aside",{className:F,children:[(0,D.jsx)("div",{className:M,children:(0,D.jsx)("h2",{className:E,children:"Chat Sessions"})}),(0,D.jsx)("div",{className:Y,children:(0,D.jsx)("p",{children:"Sign in to view your chat history"})})]})},ne={container:"container_GDrk",withSidebar:"withSidebar_Vjs6",chatOnly:"chatOnly_pCxx",withDocs:"withDocs_w1HD",chatPanel:"chatPanel_UMu6",docViewer:"docViewer_rTGv",closeDocsButton:"closeDocsButton_F3dJ",chapterNav:"chapterNav_dRRg",chapterButton:"chapterButton_kNOH",chapterButtonActive:"chapterButtonActive_bCpb",iframe:"iframe_NlCq",iframeLoading:"iframeLoading_L4Gi",chatHeader:"chatHeader_cWXr",chatAvatar:"chatAvatar_XMOm",chatHeaderInfo:"chatHeaderInfo_ydFl",chatTitle:"chatTitle_z9sp",chatSubtitle:"chatSubtitle_DP38",headerButtons:"headerButtons_OFj0",signOutButton:"signOutButton_R895",loading:"loading_KU7A",showDocsButton:"showDocsButton_zE6z",messagesContainer:"messagesContainer_BSza",message:"message_fuXJ",messageSlideIn:"messageSlideIn_Y3hO",userMessage:"userMessage_du_R",botMessage:"botMessage_ttQz",messageBubble:"messageBubble_ZV2u",messageTime:"messageTime_SnqL",navigationIndicator:"navigationIndicator_S2Hb",navigationIcon:"navigationIcon_LlOj",typingIndicator:"typingIndicator_JfFq",typingDot:"typingDot_u4u0",typingBounce:"typingBounce_FmNU",inputContainer:"inputContainer_mfV5",inputForm:"inputForm_ee8N",chatInput:"chatInput_upNo",sendButton:"sendButton_Enyk",sendIcon:"sendIcon_QN_h",welcomeMessage:"welcomeMessage_gPcT",welcomeIcon:"welcomeIcon_T3qg",welcomeTitle:"welcomeTitle_vPNv",welcomeText:"welcomeText_TQie",errorMessage:"errorMessage_CkHA"};function ie(){return`msg-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function oe({className:e}){return(0,D.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,D.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,D.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}function le(){return(0,D.jsxs)("div",{className:ne.typingIndicator,"aria-label":"Fubuni is typing",children:[(0,D.jsx)("span",{className:ne.typingDot}),(0,D.jsx)("span",{className:ne.typingDot}),(0,D.jsx)("span",{className:ne.typingDot})]})}function ce(){return(0,D.jsxs)("div",{className:ne.welcomeMessage,children:[(0,D.jsx)("div",{className:ne.welcomeIcon,role:"img","aria-label":"Fubuni",children:"\ud834\udd1e\u2a3e\ud80c\udf62\u05b4\u0ecb"}),(0,D.jsx)("h2",{className:ne.welcomeTitle,children:"Chat with Fubuni"}),(0,D.jsx)("p",{className:ne.welcomeText,children:"Ask me anything about humanoid robotics! I can help explain concepts and navigate you to relevant documentation."})]})}function re(){const e=(0,o.Ay)("/"),{isAuthenticated:s,isLoading:a,user:n}=(0,u.As)(),[i,m]=(0,t.useState)(!1),[g,p]=(0,t.useState)(d),[x,j]=(0,t.useState)([]),[b,v]=(0,t.useState)(!1),[f,N]=(0,t.useState)(""),[w,_]=(0,t.useState)(null),[y,C]=(0,t.useState)(!0),[S,k]=(0,t.useState)(null),[B,T]=(0,t.useState)(!0),[$,F]=(0,t.useState)(!1),[M,E]=(0,t.useState)(!1),H=(0,t.useRef)(null),L=(0,t.useRef)(null);(0,t.useEffect)(()=>{a||s||m(!0)},[a,s]),(0,t.useEffect)(()=>{!a&&s&&i&&m(!1)},[a,s,i]);const O=(0,t.useCallback)(()=>{H.current?.scrollIntoView({behavior:"smooth"})},[]);(0,t.useEffect)(()=>{O()},[x,b,O]),(0,t.useEffect)(()=>{L.current?.focus()},[]);const P=(0,t.useCallback)(s=>{const a=c[s]||c[d];return`${e.replace(/\/$/,"")}${a}`},[e]),R=(0,t.useCallback)(e=>{p(e),C(!0)},[]),z=(0,t.useCallback)(()=>{F(!1)},[]),U=(0,t.useCallback)(()=>{F(!0),C(!0)},[]),J=(0,t.useCallback)(async e=>{try{const s=await async function(e){return(await A(`/api/chat/history/${e}`)).json()}(e),a=s.messages.map(e=>({id:e.id,sender:e.sender,content:e.content,timestamp:new Date(e.timestamp)}));j(a),k(e)}catch(s){console.error("Failed to load session messages:",s),_("Failed to load chat history")}},[]),V=(0,t.useCallback)(e=>{e!==S&&J(e)},[S,J]),G=(0,t.useCallback)(e=>{j([]),k(e||null),_(null)},[]),W=(0,t.useCallback)(async()=>{try{"undefined"!=typeof window&&localStorage.removeItem("fubuni_auth_user"),await(0,h.CI)(),j([]),k(null),m(!0)}catch(e){console.error("Sign out error:",e)}},[]),q=(0,t.useCallback)((e,s)=>{if(e.should_navigate&&e.chapter){const a=e.chapter;c[a]&&(p(a),C(!0),M||E(!0),F(!0),j(e=>e.map(e=>e.id===s?{...e,navigatedTo:a}:e)))}},[M]),[X,Q]=(0,t.useState)(null),K=(0,t.useCallback)(async e=>{if(!e.trim()||b)return;if(!s)return Q(e.trim()),void m(!0);_(null),Q(null);const a={id:ie(),sender:"user",content:e.trim(),timestamp:new Date};j(e=>[...e,a]),N(""),v(!0);try{const s=await async function(e,s){return(await A("/api/chat",{method:"POST",body:JSON.stringify({message:e,session_id:s,stream:!1})})).json()}(e.trim(),S||void 0);s.session_id&&s.session_id!==S&&(k(s.session_id),window.__refreshSessions&&window.__refreshSessions());const a=ie(),t={id:a,sender:"fubuni",content:s.response,timestamp:new Date};j(e=>[...e,t]),q(s,a)}catch(t){console.error("Chat error:",t);const s=t instanceof Error?t.message:"Failed to send message";s.includes("401")||s.toLowerCase().includes("unauthorized")||s.toLowerCase().includes("not authenticated")?(Q(e.trim()),m(!0),_("Session expired. Please sign in again.")):_(s)}finally{v(!1),L.current?.focus()}},[b,s,S,q]);(0,t.useEffect)(()=>{s&&X&&!i&&(N(X),Q(null),L.current?.focus())},[s,X,i]);const Y=(0,t.useCallback)(e=>{e.preventDefault(),K(f)},[f,K]),Z=(0,t.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),K(f))},[f,K]),ee=(0,t.useCallback)(()=>{C(!1)},[]),se=(0,t.useCallback)(e=>{N(e.target.value),e.target.style.height="auto",e.target.style.height=`${Math.min(e.target.scrollHeight,120)}px`},[]);return a?(0,D.jsx)("div",{className:ne.container,children:(0,D.jsx)("div",{className:ne.chatPanel,children:(0,D.jsx)("div",{className:ne.messagesContainer,children:(0,D.jsx)("div",{className:ne.loading,children:"Loading..."})})})}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(I,{isOpen:i,onClose:()=>{s&&m(!1)}}),(0,D.jsxs)("div",{className:`${ne.container} ${s?ne.withSidebar:""} ${$?ne.withDocs:ne.chatOnly}`,children:[s&&(0,D.jsx)(te,{activeSessionId:S,onSessionSelect:V,onNewSession:G,isAuthenticated:s}),(0,D.jsxs)("div",{className:ne.docViewer,children:[(0,D.jsx)("button",{type:"button",className:ne.closeDocsButton,onClick:z,"aria-label":"Close documentation panel",children:(0,D.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,D.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,D.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,D.jsx)("nav",{className:ne.chapterNav,"aria-label":"Chapter navigation",children:Object.entries(r).map(([e,s])=>(0,D.jsx)("button",{type:"button",className:`${ne.chapterButton} ${g===e?ne.chapterButtonActive:""}`,onClick:()=>R(e),"aria-pressed":g===e,children:s},e))}),(0,D.jsx)("iframe",{src:P(g),className:`${ne.iframe} ${y?ne.iframeLoading:""}`,title:`Documentation: ${r[g]||"Robotics Course"}`,onLoad:ee})]}),(0,D.jsxs)("div",{className:ne.chatPanel,children:[(0,D.jsxs)("header",{className:ne.chatHeader,children:[(0,D.jsx)("div",{className:ne.chatAvatar,role:"img","aria-label":"Fubuni",children:"\ud834\udd1e\u2a3e\ud80c\udf62\u05b4\u0ecb"}),(0,D.jsxs)("div",{className:ne.chatHeaderInfo,children:[(0,D.jsx)("h1",{className:ne.chatTitle,children:".\ud81a\udd54 \u0741FUBUNI .\u02d6"}),(0,D.jsx)("p",{className:ne.chatSubtitle,children:s&&n?.name?`Hi, ${n.name}!`:"Robotics Learning Assistant"})]}),(0,D.jsxs)("div",{className:ne.headerButtons,children:[!$&&(0,D.jsxs)("button",{type:"button",className:ne.showDocsButton,onClick:U,"aria-label":"Show documentation",children:[(0,D.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,D.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,D.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),(0,D.jsx)("span",{children:"Docs"})]}),s&&(0,D.jsx)("button",{type:"button",className:ne.signOutButton,onClick:W,"aria-label":"Sign out",children:(0,D.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,D.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,D.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,D.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),(0,D.jsxs)("div",{className:ne.messagesContainer,role:"log","aria-label":"Chat messages","aria-live":"polite",children:[0!==x.length||b?(0,D.jsxs)(D.Fragment,{children:[x.map(e=>{return(0,D.jsxs)("div",{className:`${ne.message} ${"user"===e.sender?ne.userMessage:ne.botMessage}`,children:[(0,D.jsx)("div",{className:ne.messageBubble,children:(0,D.jsx)(l.oz,{children:e.content})}),e.navigatedTo&&(0,D.jsxs)("div",{className:ne.navigationIndicator,children:[(0,D.jsx)("span",{className:ne.navigationIcon,role:"img","aria-label":"Navigation",children:"\ud83d\udccd"}),(0,D.jsxs)("span",{children:["Navigated to:"," ",r[e.navigatedTo]||e.navigatedTo]})]}),(0,D.jsx)("span",{className:ne.messageTime,children:(s=e.timestamp,s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]},e.id);var s}),b&&(0,D.jsx)("div",{className:`${ne.message} ${ne.botMessage}`,children:(0,D.jsx)(le,{})})]}):(0,D.jsx)(ce,{}),(0,D.jsx)("div",{ref:H})]}),w&&(0,D.jsxs)("div",{className:ne.errorMessage,role:"alert",children:[(0,D.jsx)("span",{role:"img","aria-label":"Error",children:"\u26a0\ufe0f"}),(0,D.jsx)("span",{children:w})]}),(0,D.jsx)("div",{className:ne.inputContainer,children:(0,D.jsxs)("form",{className:ne.inputForm,onSubmit:Y,children:[(0,D.jsx)("textarea",{ref:L,className:ne.chatInput,value:f,onChange:se,onKeyDown:Z,placeholder:s?"Ask about robotics...":"Sign in to chat...",disabled:b||!s,rows:1,"aria-label":"Message input"}),(0,D.jsx)("button",{type:"submit",className:ne.sendButton,disabled:b||!f.trim()||!s,"aria-label":"Send message",children:(0,D.jsx)(oe,{className:ne.sendIcon})})]})})]})]})]})}function de(){return(0,D.jsx)(n.A,{title:"Chat with Fubuni",description:"Interactive chat assistant for learning humanoid robotics",noFooter:!0,wrapperClassName:"chat-page",children:(0,D.jsx)(i.A,{fallback:(0,D.jsx)("div",{children:"Loading chat interface..."}),children:()=>(0,D.jsx)(re,{})})})}}}]);