<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-appendix/B-simulation-setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Appendix B: Simulation Setup Guide | Ary&#x27;s Physical &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Appendix B: Simulation Setup Guide | Ary&#x27;s Physical &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Comprehensive setup guide for Gazebo, NVIDIA Isaac Sim, Unity, and container-based simulation environments"><meta data-rh="true" property="og:description" content="Comprehensive setup guide for Gazebo, NVIDIA Isaac Sim, Unity, and container-based simulation environments"><link data-rh="true" rel="icon" href="/Ary-s-Physical-Humanoid-Robotics/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup"><link data-rh="true" rel="alternate" href="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Appendix B: Simulation Setup Guide","item":"https://MuhammadAriyan.github.io/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup"}]}</script><link rel="stylesheet" href="/Ary-s-Physical-Humanoid-Robotics/assets/css/styles.abb38a41.css">
<script src="/Ary-s-Physical-Humanoid-Robotics/assets/js/runtime~main.7290ef3b.js" defer="defer"></script>
<script src="/Ary-s-Physical-Humanoid-Robotics/assets/js/main.7f2c837c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Ary-s-Physical-Humanoid-Robotics/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Ary-s-Physical-Humanoid-Robotics/"><div class="navbar__logo"><img src="/Ary-s-Physical-Humanoid-Robotics/img/logo.svg" alt="Ary&#x27;s Physical Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Ary-s-Physical-Humanoid-Robotics/img/logo.svg" alt="Ary&#x27;s Physical Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ary&#x27;s Physical Humanoid Robotics</b></a><a class="navbar__item navbar__link" href="/Ary-s-Physical-Humanoid-Robotics/chat">Chat</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/MuhammadAriyan/Ary-s-Physical-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-1-foundations/introduction-to-physical-ai"><span title="Part 1: Foundations (Weeks 1-2)" class="categoryLinkLabel_W154">Part 1: Foundations (Weeks 1-2)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-1-foundations/introduction-to-physical-ai"><span title="Introduction to Physical AI" class="linkLabel_WmDU">Introduction to Physical AI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-1-foundations/01a-week-1-2-overview"><span title="Week 1-2 Overview: Physical AI Foundations" class="linkLabel_WmDU">Week 1-2 Overview: Physical AI Foundations</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-2-ros2/ros2-fundamentals"><span title="Part 2: ROS 2 Fundamentals (Weeks 3-5)" class="categoryLinkLabel_W154">Part 2: ROS 2 Fundamentals (Weeks 3-5)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-3-simulation/gazebo-unity-simulation"><span title="Part 3: Simulation (Weeks 6-7)" class="categoryLinkLabel_W154">Part 3: Simulation (Weeks 6-7)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-4-isaac/nvidia-isaac-platform"><span title="Part 4: NVIDIA Isaac (Weeks 8-10)" class="categoryLinkLabel_W154">Part 4: NVIDIA Isaac (Weeks 8-10)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-5-humanoid/humanoid-robot-development"><span title="Part 5: Humanoid Development (Weeks 11-12)" class="categoryLinkLabel_W154">Part 5: Humanoid Development (Weeks 11-12)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Ary-s-Physical-Humanoid-Robotics/docs/part-6-conversational/conversational-robotics"><span title="Part 6: Conversational Robotics (Week 13)" class="categoryLinkLabel_W154">Part 6: Conversational Robotics (Week 13)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/hardware-specifications"><span title="Appendices" class="categoryLinkLabel_W154">Appendices</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/hardware-specifications"><span title="Appendix A: Hardware Specifications" class="linkLabel_WmDU">Appendix A: Hardware Specifications</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/B-simulation-setup"><span title="Appendix B: Simulation Setup Guide" class="linkLabel_WmDU">Appendix B: Simulation Setup Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/C-community-resources"><span title="Appendix C: Community Resources" class="linkLabel_WmDU">Appendix C: Community Resources</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/D-assessment-rubrics"><span title="Appendix D: Assessment Rubrics" class="linkLabel_WmDU">Appendix D: Assessment Rubrics</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Ary-s-Physical-Humanoid-Robotics/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Appendices</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Appendix B: Simulation Setup Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Appendix B: Simulation Setup Guide</h1></header>
<p>This appendix provides detailed setup instructions for the primary simulation tools used throughout this book. Proper simulation environment configuration is essential for developing and testing humanoid robotics algorithms before deploying to physical hardware.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Prerequisites</div><div class="admonitionContent_BuS1"><p>Before beginning any simulation setup, ensure your system meets the minimum hardware requirements outlined in Chapter 2. For GPU-intensive simulations, a dedicated graphics card with CUDA support is strongly recommended.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b1-gazebo-simulation-setup">B.1 Gazebo Simulation Setup<a href="#b1-gazebo-simulation-setup" class="hash-link" aria-label="Direct link to B.1 Gazebo Simulation Setup" title="Direct link to B.1 Gazebo Simulation Setup" translate="no">​</a></h2>
<p>Gazebo is an open-source robotics simulator that provides accurate simulation of indoor and outdoor environments. It integrates seamlessly with ROS (Robot Operating System) and is the de facto standard for robotics research and development.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b11-installation-on-ubuntu-2204">B.1.1 Installation on Ubuntu 22.04<a href="#b11-installation-on-ubuntu-2204" class="hash-link" aria-label="Direct link to B.1.1 Installation on Ubuntu 22.04" title="Direct link to B.1.1 Installation on Ubuntu 22.04" translate="no">​</a></h3>
<p>Ubuntu 22.04 LTS (Jammy Jellyfish) is the recommended operating system for Gazebo simulation with ROS 2 Humble. The following steps outline a complete installation:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Update package lists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt upgrade -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install required dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gnupg2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lsb-release \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ca-certificates \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wget \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    software-properties-common \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apt-transport-https \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Add ROS 2 repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o /usr/share/keyrings/ros-archive-keyring.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install ROS 2 Humble desktop installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y ros-humble-desktop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initialize rosdep (dependency manager for ROS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rosdep init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosdep update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Gazebo simulation packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-ros-pkgs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-ros2-control \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-ros2-multicontroller \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-plugins \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-xacro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-robot-state-publisher \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-joint-state-publisher \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-joint-trajectory-controller \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-ros2-controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install additional useful tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python3-colcon-common-extensions \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python3-argcomplete \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-rviz2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-rqt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-rqt-graph \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-rqt-robot-steering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up environment variables (add to ~/.bashrc for persistence)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;source /opt/ros/humble/setup.bash&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;source /usr/share/colcon_argcomplete/hook/colcon-argcomplete.bash&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;export GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:/usr/share/gazebo-11/models&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Reload bash configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bashrc</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b12-verifying-your-installation">B.1.2 Verifying Your Installation<a href="#b12-verifying-your-installation" class="hash-link" aria-label="Direct link to B.1.2 Verifying Your Installation" title="Direct link to B.1.2 Verifying Your Installation" translate="no">​</a></h3>
<p>After installation, verify that all components are correctly installed:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check ROS 2 installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 doctor --report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify Gazebo loads correctly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gazebo --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test ROS-Gazebo integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch gazebo_ros gazebo.launch.py world:=/usr/share/gazebo-11/worlds/empty.world</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Common Verification Steps</div><div class="admonitionContent_BuS1"><p>If <code>ros2 doctor</code> reports missing dependencies, run <code>rosdep update</code> and restart your terminal session. For Gazebo-specific issues, ensure the <code>GAZEBO_MODEL_PATH</code> and <code>GAZEBO_PLUGIN_PATH</code> environment variables are set correctly.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b13-creating-a-humanoid-simulation-workspace">B.1.3 Creating a Humanoid Simulation Workspace<a href="#b13-creating-a-humanoid-simulation-workspace" class="hash-link" aria-label="Direct link to B.1.3 Creating a Humanoid Simulation Workspace" title="Direct link to B.1.3 Creating a Humanoid Simulation Workspace" translate="no">​</a></h3>
<p>Set up a dedicated workspace for humanoid robotics simulation:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create workspace directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/humanoid_ws/src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/humanoid_ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initialize workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --symlink-install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Source the workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;source ~/humanoid_ws/install/setup.bash&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bashrc</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b14-troubleshooting-common-issues">B.1.4 Troubleshooting Common Issues<a href="#b14-troubleshooting-common-issues" class="hash-link" aria-label="Direct link to B.1.4 Troubleshooting Common Issues" title="Direct link to B.1.4 Troubleshooting Common Issues" translate="no">​</a></h3>
<p>The following table addresses frequently encountered Gazebo simulation problems:</p>
<table><thead><tr><th>Issue</th><th>Cause</th><th>Solution</th></tr></thead><tbody><tr><td>Black screen in Gazebo</td><td>GPU/driver incompatibility</td><td>Install NVIDIA drivers: <code>sudo ubuntu-drivers install nvidia</code></td></tr><tr><td>Models not loading</td><td>Missing model files</td><td>Check <code>GAZEBO_MODEL_PATH</code> environment variable</td></tr><tr><td>Joint controllers not responding</td><td>Controller manager not started</td><td>Ensure <code>controller_manager</code> is launched</td></tr><tr><td>Physics unstable</td><td>Default physics settings</td><td>Adjust <code>sim_time</code> and physics parameters in URDF</td></tr><tr><td>Slow simulation</td><td>Insufficient resources</td><td>Reduce GUI elements, use headless mode</td></tr></tbody></table>
<p>For persistent physics issues, create a custom physics configuration file:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ~/.gazebo/physics.config --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sdf</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">version</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1.6</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">world</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">default</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">physics</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">default_physics</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ode</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_step_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.001</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_step_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">real_time_factor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">real_time_factor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">gravity</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0 0 -9.81</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">gravity</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ode</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">solver</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">quick</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">iters</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">100</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">iters</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">solver</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ode</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">physics</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">world</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sdf</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b2-nvidia-isaac-sim-setup">B.2 NVIDIA Isaac Sim Setup<a href="#b2-nvidia-isaac-sim-setup" class="hash-link" aria-label="Direct link to B.2 NVIDIA Isaac Sim Setup" title="Direct link to B.2 NVIDIA Isaac Sim Setup" translate="no">​</a></h2>
<p>NVIDIA Isaac Sim is a powerful robotics simulation platform built on NVIDIA Omniverse. It offers photorealistic rendering, physics simulation, and seamless integration with ROS/ROS 2 for high-fidelity humanoid robotics development.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b21-system-requirements">B.2.1 System Requirements<a href="#b21-system-requirements" class="hash-link" aria-label="Direct link to B.2.1 System Requirements" title="Direct link to B.2.1 System Requirements" translate="no">​</a></h3>
<p>Ensure your system meets these requirements before installation:</p>
<table><thead><tr><th>Component</th><th>Minimum</th><th>Recommended</th></tr></thead><tbody><tr><td>CPU</td><td>Intel Core i7-12700</td><td>Intel Core i9-13900K</td></tr><tr><td>RAM</td><td>16 GB</td><td>64 GB</td></tr><tr><td>GPU</td><td>NVIDIA RTX 3060 (8GB)</td><td>NVIDIA RTX 4090 (24GB)</td></tr><tr><td>CUDA</td><td>12.0</td><td>12.2+</td></tr><tr><td>Storage</td><td>50 GB SSD</td><td>100+ GB NVMe SSD</td></tr><tr><td>OS</td><td>Ubuntu 22.04 LTS</td><td>Ubuntu 22.04 LTS</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b22-installation-steps">B.2.2 Installation Steps<a href="#b22-installation-steps" class="hash-link" aria-label="Direct link to B.2.2 Installation Steps" title="Direct link to B.2.2 Installation Steps" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install NVIDIA driver (if not already installed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ubuntu-drivers install nvidia-driver-535</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo reboot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify CUDA installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-smi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvcc --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Python dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y python3-pip python3-venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create Isaac Sim directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Download Isaac Sim from NVIDIA NGC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Visit https://developer.nvidia.com/isaac-sim to download the latest release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Extract the downloaded file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -xf Isaac-Sim-Release-4.0.0.tar.xz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Python dependencies in isolated environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --upgrade pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -r ./exts/omni.isaac.sim/requirements.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;export ISAAC_SIM_PATH=$HOME/isaac-sim&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;export OMNI_KIT_BUNDLE_PATH=$ISAAC_SIM_PATH/bundle&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;export CARB_APP_PATH=$ISAAC_SIM_PATH/bundle&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;source $ISAAC_SIM_PATH/setup_boost_env.sh&quot; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bashrc</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b23-licensing-information">B.2.3 Licensing Information<a href="#b23-licensing-information" class="hash-link" aria-label="Direct link to B.2.3 Licensing Information" title="Direct link to B.2.3 Licensing Information" translate="no">​</a></h3>
<p>Isaac Sim requires an NVIDIA account and accepts licensing through the following options:</p>
<table><thead><tr><th>License Type</th><th>Cost</th><th>Features</th></tr></thead><tbody><tr><td>Evaluation</td><td>Free (30 days)</td><td>Full feature access</td></tr><tr><td>Academic</td><td>Free (with .edu email)</td><td>Full features for research</td></tr><tr><td>Commercial</td><td>Subscription-based</td><td>Full commercial features</td></tr></tbody></table>
<p>Register at <a href="https://ngc.nvidia.com/" target="_blank" rel="noopener noreferrer" class="">NVIDIA NGC</a> and follow the licensing instructions provided with your downloaded Isaac Sim package.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b24-getting-started-workflow">B.2.4 Getting Started Workflow<a href="#b24-getting-started-workflow" class="hash-link" aria-label="Direct link to B.2.4 Getting Started Workflow" title="Direct link to B.2.4 Getting Started Workflow" translate="no">​</a></h3>
<p>Create a basic Isaac Sim script for humanoid simulation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#!/usr/bin/env python3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Basic Isaac Sim humanoid simulation setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Save as: ~/isaac-sim/workspace/humanoid_basic.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isaac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isaac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nucleus </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> nucleus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pxr </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Usd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UsdGeom</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Gf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Sdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize simulation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isaac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_default_backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;omni.isaac.core&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a new stage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_stage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add ground plane</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ground_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/World/GroundPlane&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UsdGeom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Plane</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Define</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ground_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ground_prim </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetPrimAtPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ground_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add lighting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">light_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/World/DistantLight&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distant_light </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UsdLux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DistantLight</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Define</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> light_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distant_light</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CreateIntensityAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distant_light</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CreateAngleAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.53</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure physics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scene_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/World&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scene </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UsdPhysics</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Define</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scene_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CreateGravityDirectionAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Gf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vec3f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CreateGravityMagnitudeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">9.81</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Isaac Sim humanoid workspace initialized successfully&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Launch Isaac Sim with your custom script:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./isaac-sim.sh --no-window --script ./workspace/humanoid_basic.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b25-ros-2-integration-with-isaac-sim">B.2.5 ROS 2 Integration with Isaac Sim<a href="#b25-ros-2-integration-with-isaac-sim" class="hash-link" aria-label="Direct link to B.2.5 ROS 2 Integration with Isaac Sim" title="Direct link to B.2.5 ROS 2 Integration with Isaac Sim" translate="no">​</a></h3>
<p>Enable ROS 2 communication from Isaac Sim:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install ROS 2 bridge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./isaac-sim.sh --exts ext/omni.isaac.ros2_bridge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create a ROS 2 enabled launch script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; ~/isaac-sim/workspace/ros2_humanoid.launch.py &lt;&lt; &#x27;EOF&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;&quot;&quot;ROS 2 enabled humanoid simulation launch script&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch_ros.actions import ComposableNodeContainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch_ros.descriptions import ComposableNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def generate_launch_description():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container = ComposableNodeContainer(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name=&#x27;isaac_sim_container&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace=&#x27;/isaac_sim&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        package=&#x27;rclcpp_components&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executable=&#x27;component_container&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        composable_node_descriptions=[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ComposableNode(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name=&#x27;robot_state_publisher&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                package=&#x27;robot_state_publisher&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                executable=&#x27;robot_state_publisher&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                parameters=[{&#x27;robot_description&#x27;: &#x27;/path/to/robot.urdf&#x27;}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ComposableNode(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name=&#x27;joint_state_publisher&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                package=&#x27;joint_state_publisher&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                executable=&#x27;joint_state_publisher&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output=&#x27;screen&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return launch.LaunchDescription([container])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if __name__ == &#x27;__main__&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    generate_launch_description()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b3-unity-for-robotics">B.3 Unity for Robotics<a href="#b3-unity-for-robotics" class="hash-link" aria-label="Direct link to B.3 Unity for Robotics" title="Direct link to B.3 Unity for Robotics" translate="no">​</a></h2>
<p>Unity provides a flexible environment for robotics simulation with its high-fidelity physics engine and extensive asset ecosystem. The Unity Robotics Hub offers specialized packages for robot simulation and ROS integration.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b31-unity-installation">B.3.1 Unity Installation<a href="#b31-unity-installation" class="hash-link" aria-label="Direct link to B.3.1 Unity Installation" title="Direct link to B.3.1 Unity Installation" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install Unity Hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wget -q https://public-cdn.cloud.unity3d.com/hub/prod/UnityHubSetup.deb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo dpkg -i UnityHubSetup.deb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install -f -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Unity Editor (2022.3 LTS recommended for robotics)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Open Unity Hub and install Unity Editor 2022.3.20f1 or newer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Select the following modules during installation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Linux Build Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Windows Build Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Android Build Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - iOS Build Support</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b32-ros-unity-integration-setup">B.3.2 ROS-Unity Integration Setup<a href="#b32-ros-unity-integration-setup" class="hash-link" aria-label="Direct link to B.3.2 ROS-Unity Integration Setup" title="Direct link to B.3.2 ROS-Unity Integration Setup" translate="no">​</a></h3>
<p>Create a new Unity project with ROS integration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create project directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/unity-ros-projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/unity-ros-projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clone Unity Robotics Hub packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/Unity-Technologies/Unity-Robotics-Hub.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd Unity-Robotics-Hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Note: Import packages through Unity Package Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Window &gt; Package Manager &gt; Add package from git URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Add: https://github.com/Unity-Technologies/ros2-message-publisher.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Add: https://github.com/Unity-Technologies/ros2-service-publisher.git</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b33-basic-unity-robotics-project-setup">B.3.3 Basic Unity Robotics Project Setup<a href="#b33-basic-unity-robotics-project-setup" class="hash-link" aria-label="Direct link to B.3.3 Basic Unity Robotics Project Setup" title="Direct link to B.3.3 Basic Unity Robotics Project Setup" translate="no">​</a></h3>
<p>Create a simple humanoid robot prefab in Unity:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// HumanoidRobotController.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector.ROSGeometry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using sensor_msgs.msg;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using geometry_msgs.msg;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HumanoidRobotController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Joint Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ArticulationBody[] leftLegJoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ArticulationBody[] rightLegJoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ArticulationBody[] leftArmJoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ArticulationBody[] rightArmJoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ArticulationBody torsoJoint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;ROS Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string cmdVelTopic = &quot;/cmd_vel&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string jointStateTopic = &quot;/joint_states&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 targetVelocity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float targetYaw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.RegisterPublisher&lt;geometry_msgs.msg.Twist&gt;(cmdVelTopic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Subscribe&lt;geometry_msgs.msg.Twist&gt;(cmdVelTopic, ReceiveVelocityCommand);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InitializeJoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void InitializeJoints()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure joint drive properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var joint in leftLegJoints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joint.xDrive = new ArticulationDrive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stiffness = 1000f,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                damping = 100f,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                forceLimit = 500f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ReceiveVelocityCommand(Twist msg)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetVelocity = msg.linear.From&lt;FLU&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetYaw = (float)msg.angular.z;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void FixedUpdate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply velocity commands to joints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; leftLegJoints.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float targetPosition = Mathf.Clamp(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                targetVelocity.z * i * 0.1f,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                leftLegJoints[i].xDrive.lowerLimit,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                leftLegJoints[i].xDrive.upperLimit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            leftLegJoints[i].SetTarget(TargetIndex.X, targetPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rightLegJoints[i].SetTarget(TargetIndex.X, -targetPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b34-unity-ros-2-communication-setup">B.3.4 Unity-ROS 2 Communication Setup<a href="#b34-unity-ros-2-communication-setup" class="hash-link" aria-label="Direct link to B.3.4 Unity-ROS 2 Communication Setup" title="Direct link to B.3.4 Unity-ROS 2 Communication Setup" translate="no">​</a></h3>
<p>Configure ROS 2 communication in Unity:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Build ROS 2 message types for Unity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/unity-ros-projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p msg_gen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd msg_gen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Generate C# message definitions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run ros2_message_gen generate_messages \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --input-pkg your_robot_description \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output-dir ./src/GeneratedMessages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Import generated messages into Unity project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copy GeneratedMessages to Assets/RosMessages/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b4-container-and-virtual-machine-setup">B.4 Container and Virtual Machine Setup<a href="#b4-container-and-virtual-machine-setup" class="hash-link" aria-label="Direct link to B.4 Container and Virtual Machine Setup" title="Direct link to B.4 Container and Virtual Machine Setup" translate="no">​</a></h2>
<p>Containerization ensures reproducible simulation environments across different machines and facilitates deployment of simulation workflows.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b41-docker-setup-for-simulation">B.4.1 Docker Setup for Simulation<a href="#b41-docker-setup-for-simulation" class="hash-link" aria-label="Direct link to B.4.1 Docker Setup for Simulation" title="Direct link to B.4.1 Docker Setup for Simulation" translate="no">​</a></h3>
<p>Create a Docker environment for consistent Gazebo simulation:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Dockerfile.gazebo-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM osrf/ros:humble-desktop-full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Gazebo and dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gazebo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libgazebo11-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-ros-pkgs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros-humble-gazebo-ros2-control \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python3-pip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up non-interactive installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV DEBIAN_FRONTEND=noninteractive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create user for simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN useradd -m -s /bin/bash simuser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER simuser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /home/simuser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copy workspace files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --chown=simuser:simuser . /home/simuser/catkin_ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN /bin/bash -c &quot;source /opt/ros/humble/setup.sh &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cd /home/simuser/catkin_ws &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    colcon build --symlink-install&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set entry point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;source /opt/ros/humble/setup.sh &amp;&amp; source /home/simuser/catkin_ws/install/setup.sh &amp;&amp; exec \&quot;$@\&quot;&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Build and run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># docker build -f Dockerfile.gazebo-sim -t gazebo-sim .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># docker run -it --rm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     --privileged \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     --gpus all \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     -e DISPLAY=$DISPLAY \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     -v /tmp/.X11-unix:/tmp/.X11-unix \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     gazebo-sim</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b42-docker-compose-for-multi-container-simulation">B.4.2 Docker Compose for Multi-Container Simulation<a href="#b42-docker-compose-for-multi-container-simulation" class="hash-link" aria-label="Direct link to B.4.2 Docker Compose for Multi-Container Simulation" title="Direct link to B.4.2 Docker Compose for Multi-Container Simulation" translate="no">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># docker-compose.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;3.8&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">gazebo-sim</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dockerfile.gazebo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> humanoid</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">privileged</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">gpus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> DISPLAY=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">DISPLAY</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> NVIDIA_VISIBLE_DEVICES=all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> NVIDIA_DRIVER_CAPABILITIES=graphics</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">utility</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">compute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /tmp/.X11</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">unix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/tmp/.X11</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">unix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">rw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/home/simuser/workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">rw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sim</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">reservations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">devices</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">driver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nvidia</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">capabilities</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gpu</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ros-bridge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> osrf/ros</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">humble</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ros</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ros</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bridge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      ros2 launch rosbridge_server rosbridge_websocket_launch.xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sim</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> gazebo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sim-network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">driver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bridge</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b43-nvidia-isaac-sim-container">B.4.3 NVIDIA Isaac Sim Container<a href="#b43-nvidia-isaac-sim-container" class="hash-link" aria-label="Direct link to B.4.3 NVIDIA Isaac Sim Container" title="Direct link to B.4.3 NVIDIA Isaac Sim Container" translate="no">​</a></h3>
<p>Run Isaac Sim in a Docker container:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Dockerfile.isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM nvidia/cuda:12.2-devel-ubuntu22.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python3.10 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python3-pip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libgl1-mesa-glx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libglib2.0-0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libnvidia-gl-535 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up Isaac Sim environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV ISAAC_SIM_PATH=/isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV OMNI_KIT_BUNDLE_PATH=/isaac-sim/bundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV CARB_APP_PATH=/isaac-sim/bundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copy Isaac Sim files (mount volume in production)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY Isaac-Sim-4.0.0 /isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /isaac-sim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;./isaac-sim.sh&quot;]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b44-virtual-machine-recommendations">B.4.4 Virtual Machine Recommendations<a href="#b44-virtual-machine-recommendations" class="hash-link" aria-label="Direct link to B.4.4 Virtual Machine Recommendations" title="Direct link to B.4.4 Virtual Machine Recommendations" translate="no">​</a></h3>
<p>For users requiring complete system isolation, the following VM configurations are recommended:</p>
<table><thead><tr><th>Use Case</th><th>Provider</th><th>Recommended Config</th></tr></thead><tbody><tr><td>Development</td><td>VirtualBox</td><td>8 CPU, 32GB RAM, 100GB disk</td></tr><tr><td>CI/CD</td><td>Vagrant + VirtualBox</td><td>4 CPU, 16GB RAM, 60GB disk</td></tr><tr><td>Cloud</td><td>AWS EC2 (g4dn.xlarge)</td><td>GPU instance for rendering</td></tr><tr><td>High-Performance</td><td>VMware ESXi</td><td>Passthrough GPU recommended</td></tr></tbody></table>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Vagrantfile for simulation VM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vagrant.configure(&quot;2&quot;) do |config|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config.vm.box = &quot;generic/ubuntu2204&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config.vm.provider &quot;virtualbox&quot; do |vb|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vb.memory = &quot;32768&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vb.cpus = &quot;8&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vb.graphics_controller = &quot;vmsvga&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vb.video_memory = &quot;128&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apt-get install -y ros-humble-desktop-full gazebo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SHELL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b5-performance-optimization">B.5 Performance Optimization<a href="#b5-performance-optimization" class="hash-link" aria-label="Direct link to B.5 Performance Optimization" title="Direct link to B.5 Performance Optimization" translate="no">​</a></h2>
<p>Optimizing simulation performance is critical for real-time humanoid robotics development. The following techniques maximize simulation speed and accuracy.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b51-gpu-optimization">B.5.1 GPU Optimization<a href="#b51-gpu-optimization" class="hash-link" aria-label="Direct link to B.5.1 GPU Optimization" title="Direct link to B.5.1 GPU Optimization" translate="no">​</a></h3>
<p>Maximize GPU utilization for accelerated physics and rendering:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Verify GPU is available for simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-smi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check CUDA version compatibility</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvcc --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monitor GPU usage during simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">watch -n 1 nvidia-smi</span><br></span></code></pre></div></div>
<p>Configure Isaac Sim for optimal GPU performance:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Optimized Isaac Sim settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Enable RTX rendering</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/rtx/enabled&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/rtx/directLighting/enabled&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure DLSS for performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/rtx/dlsr/enabled&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/rtx/dlsr/width&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1280</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/rtx/dlsr/height&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">720</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Optimize physics settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/physics/maxSolverIterations&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_settings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/physics/solverTolerance&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e-4</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b52-memory-management">B.5.2 Memory Management<a href="#b52-memory-management" class="hash-link" aria-label="Direct link to B.5.2 Memory Management" title="Direct link to B.5.2 Memory Management" translate="no">​</a></h3>
<p>Handle large-scale humanoid simulations efficiently:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Memory-optimized simulation script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pxr </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Usd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UsdGeom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">OptimizedSimulation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stage_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open_stage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stage_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cache_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Limit cached prims</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prim_cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">load_robot_safely</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> robot_usd_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Load robot with memory-conscious approach&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Clear old cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Load stage in parts to reduce peak memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open_stage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">robot_usd_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Process in batches</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        batch_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        all_prims </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> p </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> stage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Traverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetTypeName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Xform&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">all_prims</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> batch_size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            batch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_prims</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> batch_size</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">process_batch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">batch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">clear_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Clear cached prims to free memory&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prim_cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__enter__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__exit__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_tb</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        omni</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close_stage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b53-simulation-speed-optimization">B.5.3 Simulation Speed Optimization<a href="#b53-simulation-speed-optimization" class="hash-link" aria-label="Direct link to B.5.3 Simulation Speed Optimization" title="Direct link to B.5.3 Simulation Speed Optimization" translate="no">​</a></h3>
<p>Balance simulation speed and accuracy with these techniques:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Gazebo physics optimization (world.sdf)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;sdf version=&quot;1.10&quot;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;world name=&quot;optimized_world&quot;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;physics name=&quot;fast_physics&quot; type=&quot;dart&quot;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;max_step_size</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.002&lt;/max_step_size</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;real_time_factor</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.0&lt;/real_time_factor</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;real_time_update_rate</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">120&lt;/real_time_update_rate</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;gravity</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">0 0 </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">9.81&lt;/gravity</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/physics</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;</span><span class="token tag" style="color:#00009f">!--</span><span class="token plain"> Simplified collision for humanoid </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    &lt;model name=&quot;humanoid&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      &lt;link name=&quot;torso&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        &lt;collision&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          &lt;geometry&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            &lt;box&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              &lt;size&gt;0.3 0.4 0.5&lt;/size&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            &lt;/box&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          &lt;/geometry&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          &lt;max_contacts&gt;4&lt;/max_contacts&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        &lt;/collision&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      &lt;/link&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    &lt;/model&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/world</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/sdf</span><span class="token punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Use headless mode for training scenarios:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run Gazebo in headless mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gzserver --headless worlds/humanoid.world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run Isaac Sim without UI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./isaac-sim.sh --no-window --num-frames 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Unity headless build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Unity -batchmode -nographics -quit -projectPath /path/to/project</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b54-multi-node-distributed-simulation">B.5.4 Multi-Node Distributed Simulation<a href="#b54-multi-node-distributed-simulation" class="hash-link" aria-label="Direct link to B.5.4 Multi-Node Distributed Simulation" title="Direct link to B.5.4 Multi-Node Distributed Simulation" translate="no">​</a></h3>
<p>Scale simulation across multiple machines for complex scenarios:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Master node setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_MASTER_URI=http://master:11311</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_HOSTNAME=master.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Worker node setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_MASTER_URI=http://master:11311</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_HOSTNAME=worker1.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch distributed Gazebo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># On master node:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch gazebo_ros multi_robot_name:=true world_name:=humanoid.world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># On worker nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch gazebo_ros worker_node.launch</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Distributed simulation manager</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DistributedSimManager</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> master_uri</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worker_nodes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">master_uri </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> master_uri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worker_nodes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> worker_nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">allocations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">allocate_humanoid_parts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Distribute humanoid components across nodes&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        parts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;left_leg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;worker1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;right_leg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;worker2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;torso&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;master&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;left_arm&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;worker3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;right_arm&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;worker4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;head&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;master&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> part</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> node </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">allocations</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">part</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;node&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allocated&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">allocations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">synchronize_simulation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Ensure simulation state is synchronized&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rospy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> std_msgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">msg </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Float64MultiArray</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pub </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rospy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Publisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/sync/timestamp&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Float64MultiArray</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> queue_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rospy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Rate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 100 Hz sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> rospy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Float64MultiArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rospy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b55-performance-monitoring-tools">B.5.5 Performance Monitoring Tools<a href="#b55-performance-monitoring-tools" class="hash-link" aria-label="Direct link to B.5.5 Performance Monitoring Tools" title="Direct link to B.5.5 Performance Monitoring Tools" translate="no">​</a></h3>
<p>Implement comprehensive performance monitoring:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#!/usr/bin/env python3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Simulation Performance Monitor</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Usage: python perf_monitor.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> psutil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> GPUtil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SimulationMonitor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_interval</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> log_interval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;cpu_percent&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;memory_percent&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;gpu_load&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;gpu_memory&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;timestamps&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_cpu_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> psutil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cpu_percent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">interval</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_memory_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> psutil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">virtual_memory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">percent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_gpu_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gpus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getGPUs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> gpus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> gpus</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_gpu_memory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gpus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getGPUs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> gpus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gpus</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">memoryUsed </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> gpus</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">memoryTotal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">collect_metrics</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Collect all performance metrics&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timestamp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isoformat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;timestamps&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timestamp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cpu_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_cpu_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;memory_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_memory_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_load&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_gpu_usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_memory&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_gpu_memory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_report</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Generate performance report&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        report </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;cpu_avg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cpu_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cpu_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;memory_avg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;memory_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;memory_percent&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;gpu_load_avg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_load&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_load&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;gpu_memory_avg&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_memory&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;gpu_memory&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;samples&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;timestamps&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Print current system status&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;[</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">datetime</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">now</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">strftime</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;%H:%M:%S&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">] &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;CPU: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">get_cpu_usage</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.1f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">% | &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;RAM: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">get_memory_usage</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.1f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">% | &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;GPU: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">get_gpu_usage</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.1f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">% | &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;VRAM: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">get_gpu_memory</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.1f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">%&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    monitor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SimulationMonitor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            monitor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">print_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            monitor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect_metrics</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">monitor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log_interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> KeyboardInterrupt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        report </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> monitor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">generate_report</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\n=== Performance Report ===&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> report</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">key</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">value</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="b6-summary">B.6 Summary<a href="#b6-summary" class="hash-link" aria-label="Direct link to B.6 Summary" title="Direct link to B.6 Summary" translate="no">​</a></h2>
<p>This appendix has provided comprehensive setup instructions for the primary simulation platforms used in humanoid robotics development. The key takeaways are:</p>
<ul>
<li class=""><strong>Gazebo</strong> offers the best integration with ROS 2 and is ideal for algorithm development and testing</li>
<li class=""><strong>NVIDIA Isaac Sim</strong> provides photorealistic rendering and high-fidelity physics for perception research</li>
<li class=""><strong>Unity</strong> enables rapid prototyping with its extensive asset ecosystem and C# scripting</li>
<li class=""><strong>Containerization</strong> ensures reproducibility and simplifies deployment across different environments</li>
<li class=""><strong>Performance optimization</strong> is essential for real-time simulation, particularly for learning-based approaches</li>
</ul>
<p>With these simulation environments properly configured, you can proceed to implement the humanoid robotics algorithms described in the subsequent chapters, testing them in simulation before deployment to physical hardware.</p>
<hr>
<p><strong>Next Steps:</strong></p>
<ul>
<li class="">Verify all installations by running the verification commands in each section</li>
<li class="">Set up your preferred simulation environment for the specific chapters you plan to work through</li>
<li class="">Review the performance monitoring tools to establish baseline metrics for your system</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/appendix/B-simulation-setup.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/hardware-specifications"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Appendix A: Hardware Specifications</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Ary-s-Physical-Humanoid-Robotics/docs/appendix/C-community-resources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Appendix C: Community Resources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#b1-gazebo-simulation-setup" class="table-of-contents__link toc-highlight">B.1 Gazebo Simulation Setup</a><ul><li><a href="#b11-installation-on-ubuntu-2204" class="table-of-contents__link toc-highlight">B.1.1 Installation on Ubuntu 22.04</a></li><li><a href="#b12-verifying-your-installation" class="table-of-contents__link toc-highlight">B.1.2 Verifying Your Installation</a></li><li><a href="#b13-creating-a-humanoid-simulation-workspace" class="table-of-contents__link toc-highlight">B.1.3 Creating a Humanoid Simulation Workspace</a></li><li><a href="#b14-troubleshooting-common-issues" class="table-of-contents__link toc-highlight">B.1.4 Troubleshooting Common Issues</a></li></ul></li><li><a href="#b2-nvidia-isaac-sim-setup" class="table-of-contents__link toc-highlight">B.2 NVIDIA Isaac Sim Setup</a><ul><li><a href="#b21-system-requirements" class="table-of-contents__link toc-highlight">B.2.1 System Requirements</a></li><li><a href="#b22-installation-steps" class="table-of-contents__link toc-highlight">B.2.2 Installation Steps</a></li><li><a href="#b23-licensing-information" class="table-of-contents__link toc-highlight">B.2.3 Licensing Information</a></li><li><a href="#b24-getting-started-workflow" class="table-of-contents__link toc-highlight">B.2.4 Getting Started Workflow</a></li><li><a href="#b25-ros-2-integration-with-isaac-sim" class="table-of-contents__link toc-highlight">B.2.5 ROS 2 Integration with Isaac Sim</a></li></ul></li><li><a href="#b3-unity-for-robotics" class="table-of-contents__link toc-highlight">B.3 Unity for Robotics</a><ul><li><a href="#b31-unity-installation" class="table-of-contents__link toc-highlight">B.3.1 Unity Installation</a></li><li><a href="#b32-ros-unity-integration-setup" class="table-of-contents__link toc-highlight">B.3.2 ROS-Unity Integration Setup</a></li><li><a href="#b33-basic-unity-robotics-project-setup" class="table-of-contents__link toc-highlight">B.3.3 Basic Unity Robotics Project Setup</a></li><li><a href="#b34-unity-ros-2-communication-setup" class="table-of-contents__link toc-highlight">B.3.4 Unity-ROS 2 Communication Setup</a></li></ul></li><li><a href="#b4-container-and-virtual-machine-setup" class="table-of-contents__link toc-highlight">B.4 Container and Virtual Machine Setup</a><ul><li><a href="#b41-docker-setup-for-simulation" class="table-of-contents__link toc-highlight">B.4.1 Docker Setup for Simulation</a></li><li><a href="#b42-docker-compose-for-multi-container-simulation" class="table-of-contents__link toc-highlight">B.4.2 Docker Compose for Multi-Container Simulation</a></li><li><a href="#b43-nvidia-isaac-sim-container" class="table-of-contents__link toc-highlight">B.4.3 NVIDIA Isaac Sim Container</a></li><li><a href="#b44-virtual-machine-recommendations" class="table-of-contents__link toc-highlight">B.4.4 Virtual Machine Recommendations</a></li></ul></li><li><a href="#b5-performance-optimization" class="table-of-contents__link toc-highlight">B.5 Performance Optimization</a><ul><li><a href="#b51-gpu-optimization" class="table-of-contents__link toc-highlight">B.5.1 GPU Optimization</a></li><li><a href="#b52-memory-management" class="table-of-contents__link toc-highlight">B.5.2 Memory Management</a></li><li><a href="#b53-simulation-speed-optimization" class="table-of-contents__link toc-highlight">B.5.3 Simulation Speed Optimization</a></li><li><a href="#b54-multi-node-distributed-simulation" class="table-of-contents__link toc-highlight">B.5.4 Multi-Node Distributed Simulation</a></li><li><a href="#b55-performance-monitoring-tools" class="table-of-contents__link toc-highlight">B.5.5 Performance Monitoring Tools</a></li></ul></li><li><a href="#b6-summary" class="table-of-contents__link toc-highlight">B.6 Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Muhammad Ariyan. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>